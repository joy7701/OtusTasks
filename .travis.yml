language: cpp
before_script:
- sudo apt-get install libboost-test-dev -y
- echo "deb http://archive.ubuntu.com/ubuntu xenial main universe" | sudo tee -a /etc/apt/sources.list
- sudo apt-get update -qq
script:
- cd Otus01
- mkdir bin
- cd bin
- cmake ..
- cmake --build .
- cmake --build . --target helloworld
- cmake --build . --target helloworld_lib
- cmake --build . --target test_version
- "./test_version"
- cd ../../
deploy:
  provider: bintray
  file: descriptor.json
  user: joy7701
  skip-cleanup: true
  key:
    secure: AcrfKVKdSHLQMOtXEuiRY56E2RuL1TUMHFNjgjkPlzJYZ8yHf40A7L4MGTe7IgK9Uo5byGf7MFcoIyY/ND32iToOc1X6pqE2w3NnO3vG/NeVIbzytee7eHp6BU6xhOCPAxl999PWZ/2npaJ1tOEkeWAhwBUWS2tLfTV3PI9z6y3e851/4MYK6WeTRSP5Y3ekIclpkpVOtqlK25hwdiwyMmw8FUYW1CirRelgXNsr+oYVFlB5x2MDlw219xkGGOcnHxGcYeyzzeAVZDyluISKWaPrwa1oJAqpWdgXdtrQOvJAjjB3TqCpI854viybSe09xDfzQGuzLxfbai0dC1wsPOftax20Th8teArFGS3TNQQ/Hpa93R+r3P1Kx4MT/IzXHc8sTAqolX1c42WrNe52NtfIDLKGyAcgAG14Cs6LU6+vS5dHDxZ0qwBVWCVnvkHNvq6gDD7q0EP0rotaj9lg4u6JiFarNHv4e3Y+sIV/Lqh67LX0Yq0IDkCObhz6WpGVNJt8QvWT06DXpyP5d8qWA1IKcgTHnUqpNcBR0eJCC+b7GKB9xQo8ASymBT7ehNBwjYRSBVJNO3wtruYShXIkbXR5VX02hNsmDpoHVAKZ/PbtLzoEA+yXTEwALoVNuVsWJ0BrpemIFTAoBvVAozHnGZIwIXejCqeAwcaqTntdFTg=
